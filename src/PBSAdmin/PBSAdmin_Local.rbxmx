<roblox xmlns:xmime="http://www.w3.org/2005/05/xmlmime" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.roblox.com/roblox.xsd" version="4">
	<Meta name="ExplicitAutoJoints">true</Meta>
	<External>null</External>
	<External>nil</External>
	<Item class="ScreenGui" referent="RBX68248AB981444D5E8932047E9C07B4E8">
		<Properties>
			<BinaryString name="AttributesSerialize"></BinaryString>
			<bool name="AutoLocalize">true</bool>
			<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
			<bool name="ClipToDeviceSafeArea">true</bool>
			<bool name="DefinesCapabilities">false</bool>
			<int name="DisplayOrder">999</int>
			<bool name="Enabled">true</bool>
			<string name="Name">PBSAdmin_Local</string>
			<bool name="ResetOnSpawn">false</bool>
			<Ref name="RootLocalizationTable">null</Ref>
			<token name="SafeAreaCompatibility">1</token>
			<token name="ScreenInsets">2</token>
			<token name="SelectionBehaviorDown">0</token>
			<token name="SelectionBehaviorLeft">0</token>
			<token name="SelectionBehaviorRight">0</token>
			<token name="SelectionBehaviorUp">0</token>
			<bool name="SelectionGroup">false</bool>
			<int64 name="SourceAssetId">-1</int64>
			<BinaryString name="Tags"></BinaryString>
			<token name="ZIndexBehavior">1</token>
		</Properties>
		<Item class="Frame" referent="RBX4729385606184C7DAEF27082E291D56B">
			<Properties>
				<bool name="Active">false</bool>
				<Vector2 name="AnchorPoint">
					<X>0.5</X>
					<Y>0.5</Y>
				</Vector2>
				<BinaryString name="AttributesSerialize"></BinaryString>
				<bool name="AutoLocalize">true</bool>
				<token name="AutomaticSize">0</token>
				<Color3 name="BackgroundColor3">
					<R>0.254901975</R>
					<G>0.254901975</G>
					<B>0.254901975</B>
				</Color3>
				<float name="BackgroundTransparency">0.300000012</float>
				<Color3 name="BorderColor3">
					<R>0</R>
					<G>0</G>
					<B>0</B>
				</Color3>
				<token name="BorderMode">0</token>
				<int name="BorderSizePixel">0</int>
				<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
				<bool name="ClipsDescendants">false</bool>
				<bool name="DefinesCapabilities">false</bool>
				<bool name="Draggable">false</bool>
				<bool name="Interactable">true</bool>
				<int name="LayoutOrder">0</int>
				<string name="Name">cmd</string>
				<Ref name="NextSelectionDown">null</Ref>
				<Ref name="NextSelectionLeft">null</Ref>
				<Ref name="NextSelectionRight">null</Ref>
				<Ref name="NextSelectionUp">null</Ref>
				<UDim2 name="Position">
					<XS>0.5</XS>
					<XO>0</XO>
					<YS>0.5</YS>
					<YO>0</YO>
				</UDim2>
				<Ref name="RootLocalizationTable">null</Ref>
				<float name="Rotation">0</float>
				<bool name="Selectable">false</bool>
				<token name="SelectionBehaviorDown">0</token>
				<token name="SelectionBehaviorLeft">0</token>
				<token name="SelectionBehaviorRight">0</token>
				<token name="SelectionBehaviorUp">0</token>
				<bool name="SelectionGroup">false</bool>
				<Ref name="SelectionImageObject">null</Ref>
				<int name="SelectionOrder">0</int>
				<UDim2 name="Size">
					<XS>0.75</XS>
					<XO>0</XO>
					<YS>0.0500000007</YS>
					<YO>0</YO>
				</UDim2>
				<token name="SizeConstraint">0</token>
				<int64 name="SourceAssetId">-1</int64>
				<token name="Style">0</token>
				<BinaryString name="Tags"></BinaryString>
				<bool name="Visible">false</bool>
				<int name="ZIndex">1</int>
			</Properties>
			<Item class="UICorner" referent="RBX5579F885F89A4F69A6E6970956738AB3">
				<Properties>
					<BinaryString name="AttributesSerialize"></BinaryString>
					<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
					<UDim name="CornerRadius">
						<S>0</S>
						<O>4</O>
					</UDim>
					<bool name="DefinesCapabilities">false</bool>
					<string name="Name">UICorner</string>
					<int64 name="SourceAssetId">-1</int64>
					<BinaryString name="Tags"></BinaryString>
				</Properties>
			</Item>
			<Item class="TextBox" referent="RBX908CEF5C8B5B4D36849110FA33579593">
				<Properties>
					<bool name="Active">true</bool>
					<Vector2 name="AnchorPoint">
						<X>0.5</X>
						<Y>0</Y>
					</Vector2>
					<BinaryString name="AttributesSerialize"></BinaryString>
					<bool name="AutoLocalize">true</bool>
					<token name="AutomaticSize">0</token>
					<Color3 name="BackgroundColor3">
						<R>1</R>
						<G>1</G>
						<B>1</B>
					</Color3>
					<float name="BackgroundTransparency">1</float>
					<Color3 name="BorderColor3">
						<R>0</R>
						<G>0</G>
						<B>0</B>
					</Color3>
					<token name="BorderMode">0</token>
					<int name="BorderSizePixel">0</int>
					<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
					<bool name="ClearTextOnFocus">false</bool>
					<bool name="ClipsDescendants">false</bool>
					<bool name="DefinesCapabilities">false</bool>
					<bool name="Draggable">false</bool>
					<Font name="FontFace">
						<Family><url>rbxasset://fonts/families/Inconsolata.json</url></Family>
						<Weight>400</Weight>
						<Style>Normal</Style>
						<CachedFaceId><url>rbxasset://fonts/Inconsolata-Regular.ttf</url></CachedFaceId>
					</Font>
					<bool name="Interactable">true</bool>
					<int name="LayoutOrder">0</int>
					<float name="LineHeight">1</float>
					<string name="LocalizationMatchIdentifier"></string>
					<string name="LocalizationMatchedSourceText"></string>
					<int name="MaxVisibleGraphemes">-1</int>
					<bool name="MultiLine">false</bool>
					<string name="Name">input</string>
					<Ref name="NextSelectionDown">null</Ref>
					<Ref name="NextSelectionLeft">null</Ref>
					<Ref name="NextSelectionRight">null</Ref>
					<Ref name="NextSelectionUp">null</Ref>
					<Color3 name="PlaceholderColor3">
						<R>0.698039234</R>
						<G>0.698039234</G>
						<B>0.698039234</B>
					</Color3>
					<string name="PlaceholderText">/role {use userid: &quot;true&quot; or &quot;false&quot;} {player name or userid} {role: none &quot;banned&quot; &quot;member&quot; &quot;admin&quot; &quot;owner&quot;}</string>
					<UDim2 name="Position">
						<XS>0.5</XS>
						<XO>0</XO>
						<YS>0</YS>
						<YO>0</YO>
					</UDim2>
					<bool name="RichText">false</bool>
					<Ref name="RootLocalizationTable">null</Ref>
					<float name="Rotation">0</float>
					<bool name="Selectable">true</bool>
					<token name="SelectionBehaviorDown">0</token>
					<token name="SelectionBehaviorLeft">0</token>
					<token name="SelectionBehaviorRight">0</token>
					<token name="SelectionBehaviorUp">0</token>
					<bool name="SelectionGroup">false</bool>
					<Ref name="SelectionImageObject">null</Ref>
					<int name="SelectionOrder">0</int>
					<bool name="ShowNativeInput">false</bool>
					<UDim2 name="Size">
						<XS>1</XS>
						<XO>-20</XO>
						<YS>1</YS>
						<YO>0</YO>
					</UDim2>
					<token name="SizeConstraint">0</token>
					<int64 name="SourceAssetId">-1</int64>
					<BinaryString name="Tags"></BinaryString>
					<string name="Text"></string>
					<Color3 name="TextColor3">
						<R>1</R>
						<G>1</G>
						<B>1</B>
					</Color3>
					<token name="TextDirection">0</token>
					<bool name="TextEditable">true</bool>
					<bool name="TextScaled">false</bool>
					<float name="TextSize">14</float>
					<Color3 name="TextStrokeColor3">
						<R>0</R>
						<G>0</G>
						<B>0</B>
					</Color3>
					<float name="TextStrokeTransparency">1</float>
					<float name="TextTransparency">0</float>
					<token name="TextTruncate">0</token>
					<bool name="TextWrapped">false</bool>
					<token name="TextXAlignment">0</token>
					<token name="TextYAlignment">1</token>
					<bool name="Visible">true</bool>
					<int name="ZIndex">1</int>
				</Properties>
			</Item>
		</Item>
		<Item class="Script" referent="RBXEA11D9695938454AAA17DEBD7C5ACC37">
			<Properties>
				<BinaryString name="AttributesSerialize"></BinaryString>
				<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
				<bool name="DefinesCapabilities">false</bool>
				<bool name="Disabled">false</bool>
				<Content name="LinkedSource"><null></null></Content>
				<string name="Name">PBSAdmin_Local</string>
				<token name="RunContext">2</token>
				<string name="ScriptGuid">{3C67D651-D364-4882-B95D-8C9686538AEF}</string>
				<ProtectedString name="Source"><![CDATA[-- This script is assinged to players with admin permissions to send them messages involving thier commands
-- Cannot actually do anything

local replicatedStorage = game:GetService("ReplicatedStorage")
local textChatService = game:GetService("TextChatService")
local channel:TextChannel = textChatService:WaitForChild("TextChannels"):WaitForChild("RBXSystem")
local contextActionService = game:GetService("ContextActionService")
local userInputService = game:GetService("UserInputService")
local keys = {Enum.KeyCode.Quote, Enum.KeyCode.QuotedDouble}

local cmd = script.Parent.cmd
local input = cmd.input

local remote: RemoteEvent = replicatedStorage:WaitForChild("PBSAdminRemote")

remote.OnClientEvent:Connect(function(message: string, metadata: string?)
	metadata = metadata or ""
	channel:DisplaySystemMessage(message, metadata)
end)

-- enables autocomplete for admins
local commands = {
	textChatService:WaitForChild("TextChatCommands"):WaitForChild("RoleCommand"),
	textChatService:WaitForChild("TextChatCommands"):WaitForChild("ToolCommand"),
}

for _,v:TextChatCommand in commands do
	v.AutocompleteVisible = true
end

local cmdHistory: {string} = {}
local historyI: number

input.FocusLost:Connect(function()
	remote:FireServer(input.Text)
	table.insert(cmdHistory,input.Text)
	historyI = #cmdHistory + 1
	input.Text = ""
end)

local function openConsole(_, inputState: Enum.UserInputState, _inputObject: InputObject)
	if cmd.Visible and (_inputObject.KeyCode == Enum.KeyCode.Up or _inputObject.KeyCode == Enum.KeyCode.Down) then
		return Enum.ContextActionResult.Sink
	end
	if inputState == Enum.UserInputState.Begin then
		cmd.Visible = not cmd.Visible
		if cmd.Visible then
			input.Text = ""
			task.wait(0.1)
			input:CaptureFocus()
		end
		return Enum.ContextActionResult.Sink
	end
	return Enum.ContextActionResult.Pass
end

userInputService.InputBegan:Connect(function(_inputObject: InputObject)
	if cmd.Visible then
		if _inputObject.KeyCode == Enum.KeyCode.Up and #cmdHistory > 0 then
			historyI = math.clamp(historyI-1,1,#cmdHistory + 1)
			input.Text = cmdHistory[historyI]
			input:CaptureFocus()
		elseif _inputObject.KeyCode == Enum.KeyCode.Down and #cmdHistory > 0 then
			historyI = math.clamp(historyI+1,1,#cmdHistory + 1)
			if historyI > #cmdHistory then
				input.Text = ""
			else
				input.Text = cmdHistory[historyI]
			end
			input:CaptureFocus()
		end
	end
end)

table.insert(keys,Enum.KeyCode.Up)
table.insert(keys,Enum.KeyCode.Down)
contextActionService:BindAction("openPBSAdminConsole",openConsole,true,table.unpack(keys))]]></ProtectedString>
				<int64 name="SourceAssetId">-1</int64>
				<BinaryString name="Tags"></BinaryString>
			</Properties>
		</Item>
	</Item>
</roblox>